<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Non sai che film guardare?</title>
</head>

<body>
    <h1>Non sai che film guardare?</h1>
    <h2>Inserisci le tue preferenze, ti consiglia l'Intelligenza Artificiale!</h2>

    <form action="/predict" method="POST">
        <label for="genre">Genere:</label>
        <input type="text" name="genre" value="{{ genre or '' }}" required><br><br>

        <label for="user_score_min">Voto IMDb Minimo:</label>
        <select name="user_score_min" required>
            {% for i in range(1, 11) %}
                <option value="{{ i }}" {% if i == user_score_min %} selected {% endif %}>{{ i }}</option>
            {% endfor %}
        </select><br><br>

        <label for="user_score_max">Voto IMDb Massimo:</label>
        <select name="user_score_max" required>
            {% for i in range(1, 11) %}
                <option value="{{ i }}" {% if i == user_score_max %} selected {% endif %}>{{ i }}</option>
            {% endfor %}
        </select><br><br>

        <label for="release_date_min">Anno di Uscita Minimo:</label>
        <input type="number" name="release_date_min" value="{{ release_date_min or '' }}" required><br><br>

        <label for="release_date_max">Anno di Uscita Massimo:</label>
        <input type="number" name="release_date_max" value="{{ release_date_max or '' }}" required><br><br>

        <button type="submit">Invia</button>
        <br><br>

        <h4>Servizio Culturale gentilmente offerto da Kangemi_Edu</h4>
    </form>

    {% if response_text %}
        <h2>Film Consigliati:</h2>
        <p>{{ response_text|safe }}</p>
        <form action="/predict" method="POST">
            <input type="hidden" name="genre" value="{{ genre }}">
            <input type="hidden" name="user_score_min" value="{{ user_score_min }}">
            <input type="hidden" name="user_score_max" value="{{ user_score_max }}">
            <input type="hidden" name="release_date_min" value="{{ release_date_min }}">
            <input type="hidden" name="release_date_max" value="{{ release_date_max }}">
            <button type="submit">Ripeti Ricerca</button>
        </form>
    {% endif %}
</body>
</html>
